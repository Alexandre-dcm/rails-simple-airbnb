<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>All flats</title>
</head>
<body>
  <%= form_with url: "/flats", method: :get do |form| %>
  <%= form.label :query, "Search for:" %>
  <%= form.text_field :query %>
  <%= form.submit "Search" %>
<% end %>
  <h1>All flats</h1>
  <div class="flats-container">
  <h2><%= @h2 %></h2>
    <ul>
      <% @flats.each do |flat| %>
        <%= link_to flat_path(flat) do %>
          <div class="card-flat">
            <h3><%= flat.name %></h3>
            <h4><%= flat.address %></h4>
            <div class="extra-info">
              <p><%= flat.price_per_night %></p>
              <p><%= flat.number_of_guests %></p>
            </div>
            <div class="flat-actions">
              <%= link_to 'Edit this flat', edit_flat_path(flat) %>
              <%= link_to "Delete",
              flat_path(flat),
              method: :delete,
              data: { confirm: "Are you sure?" }
            %>
            </div>
          </div>
        <% end %>
      <% end %>
    </ul>
  </div>
<%= link_to 'Add a new Flat', new_flat_path %>
</body>
</html>
